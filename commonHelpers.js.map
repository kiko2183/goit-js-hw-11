{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43954611-e80f17bdd29da3f9a3f1b55c2';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query, page = 1) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=12`;\n\n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`);\n  }\n  return await response.json();\n}\n","export function renderImageGallery(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n            <div class=\"gallery-item\">\n                <a href=\"${largeImageURL}\">\n                    <img src=\"${webformatURL}\" alt=\"${tags}\" />\n                </a>\n                <div class=\"gallery-item-info\">\n                    <p>Likes: ${likes}</p>\n                    <p>Views: ${views}</p>\n                    <p>Comments: ${comments}</p>\n                    <p>Downloads: ${downloads}</p>\n                </div>\n            </div>\n        `;\n      }\n    )\n    .join('');\n}\n","import './css/styles.css';\nimport { fetchImages } from './js/pixabay-api';\nimport { renderImageGallery } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchForm = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\n\nlet query = '';\nlet page = 1;\n\nsearchForm.addEventListener('submit', onSearch);\n\nasync function onSearch(event) {\n  event.preventDefault();\n  query = event.currentTarget.elements.query.value.trim();\n  if (query === '') {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Search query cannot be empty',\n    });\n    return;\n  }\n  page = 1;\n  gallery.innerHTML = '';\n  await fetchImagesAndRender();\n}\n\nasync function fetchImagesAndRender() {\n  try {\n    const data = await fetchImages(query, page);\n    if (data.hits.length === 0) {\n      iziToast.error({\n        title: 'Error',\n        message: 'No images found. Try again!',\n      });\n      return;\n    }\n    const markup = renderImageGallery(data.hits);\n    gallery.insertAdjacentHTML('beforeend', markup);\n    new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    }).refresh();\n  } catch (error) {\n    iziToast.error({ title: 'Error', message: error.message });\n  }\n}\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","url","response","renderImageGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","gallery","onSearch","event","iziToast","fetchImagesAndRender","data","markup","SimpleLightbox","error"],"mappings":"wvBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAG,CACjD,MAAMC,EAAM,GAAGJ,CAAQ,QAAQD,CAAO,MAAMG,CAAK,iEAAiEC,CAAI,eAEhHE,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAO,MAAMA,EAAS,MACxB,CCXO,SAASC,EAAmBC,EAAQ,CACzC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,2BAEYL,CAAa;AAAA,gCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,gCAG1BC,CAAK;AAAA,gCACLC,CAAK;AAAA,mCACFC,CAAQ;AAAA,oCACPC,CAAS;AAAA;AAAA;AAAA,SAKxC,EACA,KAAK,EAAE,CACZ,CCpBA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAId,EAAQ,GACRC,EAAO,EAEXY,EAAW,iBAAiB,SAAUE,CAAQ,EAE9C,eAAeA,EAASC,EAAO,CAG7B,GAFAA,EAAM,eAAc,EACpBhB,EAAQgB,EAAM,cAAc,SAAS,MAAM,MAAM,OAC7ChB,IAAU,GAAI,CAChBiB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACf,CAAK,EACD,MACD,CACDhB,EAAO,EACPa,EAAQ,UAAY,GACpB,MAAMI,EAAoB,CAC5B,CAEA,eAAeA,GAAuB,CACpC,GAAI,CACF,MAAMC,EAAO,MAAMpB,EAAYC,EAAOC,CAAI,EAC1C,GAAIkB,EAAK,KAAK,SAAW,EAAG,CAC1BF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACjB,CAAO,EACD,MACD,CACD,MAAMG,EAAShB,EAAmBe,EAAK,IAAI,EAC3CL,EAAQ,mBAAmB,YAAaM,CAAM,EAC9C,IAAIC,EAAe,aAAc,CAC/B,aAAc,MACd,aAAc,GACpB,CAAK,EAAE,QAAO,CACX,OAAQC,EAAO,CACdL,EAAS,MAAM,CAAE,MAAO,QAAS,QAASK,EAAM,OAAO,CAAE,CAC1D,CACH"}